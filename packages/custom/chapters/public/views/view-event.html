<section data-ng-controller="EventsController" data-ng-init="findOneEvent()">
    <div class="col-md-8 col-md-offset-2">
        <span>{{event.created | date:'mediumDate'}}</span> /
        <span>{{event.user.name}}</span>
        <h2>{{event.chapter}} | {{event.title}}</h2>
        <div>
            <h4>{{event.eventType}}</h4>
            <p>Attendance: {{event.attendance}}</p>
            <p>Event Description: {{event.content}}</p>
            <p>Event Point of Contact: {{event.pointofcontact}}</p>
            <p>Date: {{event.date | date: 'mediumDate'}}</p>
            <p>Time: {{event.starttime}} - {{event.endtime}}</p>
            <p>Address: {{event.address}}</p>
        </div>
        <div data-ng-if="hasAuthorization(event)">
            <a class="btn" href="/events/{{event._id}}/edit">
                <i class="glyphicon glyphicon-edit">Edit </i>
            </a>
            <a class="btn" data-ng-click="remove(event);">
                <i class="glyphicon glyphicon-trash">Delete</i>
            </a>
        </div>
        <hr>
        <div>
            <h2>Deliverables</h2>
        </div>
        <div class="panel-group" id="accordion">
            <div ng-repeat="deliverable in deliverables" class="panel panel-danger">
                <div class="panel-heading">
                    <h4 class="panel-title">{{deliverable.name}}</h4>
                    <p>Status: {{deliverable.status}}</p>
                </div>
                <div class="panel-body">
                    <div ng-show="deliverable.type == 'File'">
                        <p>File</p>
                    </div>
                    <div ng-show="deliverable.type == 'Array'">
                        <p>array</p>
                        <table class="table table-bordered table-striped">
                            <thead>
                            <tr>
                                <th>Responsibility</th>
                                <th>Member</th>
                                <!--<th>Email</th>-->
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="risk in deliverable.rmArray" data-ng-init="findMembers()">
                                <td><a href="#" editable-select="risk.position" e-ng-model="risk.position"
                                       onaftersave="updateEvent(true)"
                                       e-ng-options="rm.value as rm.text for rm in rmAvailablePositions">
                                    {{ risk.position || 'Not Set' }}
                                </a></td>
                                <td>
                                    <a href="#" editable-select="risk.member" e-ng-model="risk.member"
                                       onbeforesave="updateRMTeam(risk)" onaftersave="updateEvent(true)"
                                       e-ng-options="m.id as (m.firstName + ' ' + m.lastName) for m in members | orderBy: 'firstName'">
                                        {{ risk.member || 'Not Set' }}
                                    </a>
                                </td>
                                <!--<td>{{risk.member.name || 'Select Member'}}</td>-->
                                <!--<td>{{risk.member.calpolyemail || 'Select Member'}}</td>-->
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div ng-show="deliverable.type == 'String'">
                        <a href="#" editable-textarea="deliverable.strContent" onbeforesave="updateDeliverables()"
                           onaftersave="updateEvent(true)" e-rows="7" e-cols="40">
                            <pre>{{deliverable.strContent || 'Please click in this box to proceed...' }}</pre>
                        </a>
                    </div>

                </div>
                <div class="panel-footer" style="background-color: #f2f2f2;">
                    <a class="btn btn-info">Comment</a>
                    <a class="btn btn-success" ng-show="isAppAdmin(event)">Verify</a>
                    <a class="btn btn-warning" ng-show="isAppAdmin(event)">In Review</a>
                    <a class="btn btn-danger" ng-show="isAppAdmin(event)">Deny</a>
                    <a class="btn btn-success" ng-show="isChapterAdmin(event)">Submit</a>
                </div>

            </div>
            <!--<div class="panel panel-default" ng-show="riskManagementDocumentRequired" id="riskManagementDocument">-->
            <!--<div class="panel-heading">-->
            <!--<h4 class="panel-title">-->
            <!--<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">Chapter Risk Management-->
            <!--Plan</a>-->
            <!--</h4>-->
            <!--</div>-->
            <!--<div id="collapseOne" class="panel-collapse collapse in">-->
            <!--<div class="panel-body">-->
            <!--<p><a href="#">Click here to submit risk management document</a></p>-->
            <!--</div>-->
            <!--</div>-->
            <!--</div>-->

            <!--&lt;!&ndash;<div id="riskManagementDocument" ng-show="riskManagementDocumentRequired">&ndash;&gt;-->
            <!--&lt;!&ndash;<hr>&ndash;&gt;-->
            <!--&lt;!&ndash;<h3>Chapter Risk Management Plan </h3>&ndash;&gt;-->
            <!--&lt;!&ndash;<a href="#">Click here to submit risk management document</a>&ndash;&gt;-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->
            <!--<div class="panel panel-default" id="riskManagementTeam" ng-show="riskManagementTeamRequired">-->
            <!--<div class="panel-heading">-->
            <!--<h4 class="panel-title">-->
            <!--<a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">Risk Management Team</a>-->
            <!--</h4>-->
            <!--</div>-->
            <!--<div id="collapseTwo" class="panel-collapse collapse in">-->
            <!--<div class="panel-body">-->
            <!--<p>You must have 1 sober monitor for every 30 guests in attendance. At least one-->
            <!--sober monitor must be a member of your executive board.</p>-->
            <!--<table class="table table-bordered table-striped">-->
            <!--<thead>-->
            <!--<tr>-->
            <!--<th>Responsibility</th>-->
            <!--<th>Member</th>-->
            <!--<th>Email</th>-->
            <!--</tr>-->
            <!--</thead>-->
            <!--<tbody>-->
            <!--<tr ng-repeat="position in riskManagementTeamPositions">-->
            <!--<td>{{position.title}}</td>-->
            <!--<td>{{position.name}}</td>-->
            <!--<td>grantcampanelli@gmail.com</td>-->
            <!--</tr>-->
            <!--</tbody>-->
            <!--</table>-->
            <!--</div>-->
            <!--</div>-->
            <!--</div>-->
            <!--<div class="panel panel-default" id="thirdPartyEventManagementContract"-->
            <!--ng-show="thirdPartyEventManagementContractRequired">-->
            <!--<div class="panel-heading">-->
            <!--<h4 class="panel-title">-->
            <!--<a data-toggle="collapse" data-parent="#accordion" href="#collapseFour">Third Party Event-->
            <!--Management Contract</a>-->
            <!--</h4>-->
            <!--</div>-->
            <!--<div id="collapseFour" class="panel-collapse collapse in">-->
            <!--<div class="panel-body">-->
            <!--<a href="#">Click here to submit third party event management contract</a>-->
            <!--</div>-->
            <!--</div>-->
            <!--</div>-->
            <!--<div class="panel panel-default" id="guestList" ng-show="guestListRequired">-->
            <!--<div class="panel-heading">-->
            <!--<h4 class="panel-title">-->
            <!--<a data-toggle="collapse" data-parent="#accordion" href="#collapseThree">Pre Event Guest-->
            <!--List</a>-->
            <!--</h4>-->
            <!--</div>-->
            <!--<div id="collapseThree" class="panel-collapse collapse in">-->
            <!--<div class="panel-body">-->
            <!--<p><a href="#">Click here to submit guest list</a></p>-->
            <!--</div>-->
            <!--</div>-->
            <!--</div>-->

            <!--<div class="panel panel-default" id="postGuestList" ng-show="postGuestListRequired">-->
            <!--<div class="panel-heading">-->
            <!--<h4 class="panel-title">-->
            <!--<a data-toggle="collapse" data-parent="#accordion" href="#collapseFive">Post Event Guest-->
            <!--List</a>-->
            <!--</h4>-->
            <!--</div>-->
            <!--<div id="collapseFive" class="panel-collapse collapse in">-->
            <!--<div class="panel-body">-->
            <!--<a href="#">Click here to submit post event guest list</a>-->
            <!--</div>-->
            <!--</div>-->
            <!--</div>-->
        </div>
        <!--<div ng-if="event !== undefined" ng-include="'comments/views/index.html'"-->
        <!--data-ng-controller="CommentsController" data-ng-init="findComments(event, 2)"/>-->
        <!-- Voila, you are done. Were you expecting some more steps? :-) -->
        <!--<div id="riskManagementTeam" ng-show="riskManagementTeamRequired">-->
        <!--<hr>-->
        <!--<h3>Risk Management Team</h3>-->
        <!--<p>You must have 1 sober monitor for every 30 guests in attendance. At least one-->
        <!--sober monitor must be a member of your executive board.</p>-->
        <!--<table class="table table-bordered table-striped">-->
        <!--<thead>-->
        <!--<tr>-->
        <!--<th>Responsibility</th>-->
        <!--<th>Member</th>-->
        <!--<th>Email</th>-->
        <!--</tr>-->
        <!--</thead>-->
        <!--<tbody>-->
        <!--<tr ng-repeat="position in riskManagementTeamPositions">-->
        <!--<td>{{position.title}}</td>-->
        <!--<td>{{position.name}}</td>-->
        <!--<td>grantcampanelli@gmail.com</td>-->
        <!--</tr>-->
        <!--</tbody>-->
        <!--</table>-->
        <!--</div>-->
        <!--<div id="guestList" ng-show="guestListRequired">-->
        <!--<hr>-->
        <!--<h3>Guest List</h3>-->
        <!--<a href="#">Click here to submit guest list</a>-->
        <!--</div>-->
        <!--<div id="thirdPartyEventManagementContract"-->
        <!--ng-show="thirdPartyEventManagementContractRequired">-->
        <!--<hr>-->
        <!--<h3>Third Party Event Management Contract</h3>-->
        <!--<a href="#">Click here to submit third party event management contract</a>-->
        <!--</div>-->
        <!--<div id="postGuestList" ng-show="postGuestListRequired">-->
        <!--<hr>-->
        <!--<h3>Post Event Guest List</h3>-->
        <!--<a href="#">Click here to submit post event guest list</a>-->
        <!--</div>-->
        <!--<hr>-->
    </div>
</section>
